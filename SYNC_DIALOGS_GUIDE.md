# üîÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤

–°–∫—Ä–∏–ø—Ç `scripts/sync_dialogs.py` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥—Ä—É–ø–ø—ã –∏–∑ Telegram —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

## üéØ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–∞—à–∏ –∞–∫–∫–∞—É–Ω—Ç—ã —É–∂–µ —Å–æ—Å—Ç–æ—è—Ç –≤–æ –º–Ω–æ–≥–∏—Ö –≥—Ä—É–ø–ø–∞—Ö –≤ Telegram, –Ω–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–± —ç—Ç–æ–º –Ω–µ –∑–Ω–∞–µ—Ç (–∏–ª–∏ —Å—á–∏—Ç–∞–µ—Ç –∏—Ö –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏).

**–†–µ—à–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –≥—Ä—É–ø–ø—ã, –≥–¥–µ –∞–∫–∫–∞—É–Ω—Ç—ã —É–∂–µ —Å–æ—Å—Ç–æ—è—Ç, –∏ –ø–æ–º–µ—á–∞–µ—Ç –∏—Ö –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–µ (–º–∏–Ω—É—è warm-up –ø–µ—Ä–∏–æ–¥).

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
docker exec -t telegram-bali-account-manager python /app/scripts/sync_dialogs.py
```

### –°–ø–æ—Å–æ–± 2: –õ–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ –Ω–µ –≤ Docker)

```bash
cd /home/tovgrishkoff/PIAR/telegram_promotion_system_bali
python3 scripts/sync_dialogs.py
```

## üìä –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç?

1. **–ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã** –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. **–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É** —á–µ—Ä–µ–∑ Telegram API
3. **–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≥—Ä—É–ø–ø**, –≥–¥–µ –∞–∫–∫–∞—É–Ω—Ç —Å–æ—Å—Ç–æ–∏—Ç
4. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—É—é –≥—Ä—É–ø–ø—É:**
   - –ï—Å–ª–∏ –≥—Ä—É–ø–ø—ã –Ω–µ—Ç –≤ –ë–î ‚Üí **–¥–æ–±–∞–≤–ª—è–µ—Ç** —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `active`
   - –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∞ –µ—Å—Ç—å, –Ω–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ ‚Üí **–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç** –µ—ë
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞—Ç—É –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è "3 –¥–Ω—è –Ω–∞–∑–∞–¥" (—á—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ warm-up)
5. **–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –≥—Ä—É–ø–ø—ã –∫ –∞–∫–∫–∞—É–Ω—Ç–∞–º**, –∫–æ—Ç–æ—Ä—ã–µ –≤ –Ω–∏—Ö —Å–æ—Å—Ç–æ—è—Ç

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- **–°—Ç–∞—Ç—É—Å:** `active` (–º–∏–Ω—É–µ—Ç warm-up)
- **can_post:** `true`
- **joined_at:** 3 –¥–Ω—è –Ω–∞–∑–∞–¥ (—á—Ç–æ–±—ã warm-up —É–∂–µ –ø—Ä–æ—à–µ–ª)
- **niche:** `general` (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∑–∂–µ –≤—Ä—É—á–Ω—É—é)

## üìã –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ

```
üîÑ –ó–∞–≥—Ä—É–∂–∞—é –∞–∫–∫–∞—É–Ω—Ç—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ 4 –∞–∫–∫–∞—É–Ω—Ç–æ–≤
================================================================================
üì± –°–∫–∞–Ω–∏—Ä—É—é —á–∞—Ç—ã –¥–ª—è: account_name (promotion_account_1)
  ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –≥—Ä—É–ø–ø–∞: @group1 (Group Title)
  üîÑ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –≥—Ä—É–ø–ø–∞ –∏–∑ –±–∞–∑—ã: @group2
  ‚úÖ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≥—Ä—É–ø–ø –¥–ª—è account_name: 15
...
================================================================================
‚úÖ –ò–¢–û–ì –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò:
   ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤—ã—Ö (–∑–∞–±—ã—Ç—ã—Ö) –≥—Ä—É–ø–ø: 25
   üîÑ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ —Å—Ç–∞—Ä—ã—Ö –≥—Ä—É–ø–ø: 10
   ‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ (–±–µ–∑ username –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ): 5
   üìä –í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 35
================================================================================
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≥—Ä—É–ø–ø:

```bash
./check_groups_status.sh
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- **Active groups (can_post=true):** –±–æ–ª—å—à–µ 0
- –ì—Ä—É–ø–ø—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `active`
- –ì—Ä—É–ø–ø—ã —Å –¥–∞—Ç–æ–π –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –ø—Ä–æ—à–ª–æ–º

## üîç –ß—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è?

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç:
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã (–±–µ–∑ username)
- –ì—Ä—É–ø–ø—ã, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∞–∫–∫–∞—É–Ω—Ç –≤—ã—à–µ–ª (`left = true`)
- –ì—Ä—É–ø–ø—ã, –≥–¥–µ –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–∞–Ω–µ–Ω (`kicked = true`)
- –õ–∏—á–Ω—ã–µ —á–∞—Ç—ã (–Ω–µ –≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª—ã)

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ –≥—Ä—É–ø–ø (–æ–±—ã—á–Ω–æ 1-5 –º–∏–Ω—É—Ç)
2. **Warm-up –æ–±—Ö–æ–¥:** –ì—Ä—É–ø–ø—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –≤—Å—Ç—É–ø–∏–≤—à–∏–µ 3 –¥–Ω—è –Ω–∞–∑–∞–¥, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–æ—Å—Ç–∏–Ω–≥–∞
3. **–ù–∏—à–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –í—Å–µ –≥—Ä—É–ø–ø—ã –ø–æ–ª—É—á–∞—é—Ç –Ω–∏—à—É `general`. –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–∑–∂–µ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –°–∫—Ä–∏–ø—Ç –Ω–µ —É–¥–∞–ª—è–µ—Ç –≥—Ä—É–ø–ø—ã –∏–∑ –ë–î, —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç

## üõ† –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–∫–∫–∞—É–Ω—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã –≤ –ë–î
docker exec -t telegram-bali-postgres psql -U telegram_user -d telegram_promotion -c "SELECT session_name, status FROM accounts WHERE status = 'active';"
```

### –û—à–∏–±–∫–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
docker logs telegram-bali-account-manager | grep -i "client.*ready"
```

### –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ–ª–≥–æ
–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –ï—Å–ª–∏ –º–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ –≥—Ä—É–ø–ø, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 5-10 –º–∏–Ω—É—Ç.

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- –§–∞–π–ª: `logs/sync_dialogs.log`
- –ö–æ–Ω—Å–æ–ª—å: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2026-01-10*
