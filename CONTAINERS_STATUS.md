# üì¶ –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

## üéØ –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–£ –≤–∞—Å –µ—Å—Ç—å **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (`docker-compose.template.yml`), –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ (Bali, Ukraine/Lexus) —Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## üìã –°–µ—Ä–≤–∏—Å—ã –≤ docker-compose.template.yml

### 1. **postgres** - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ì–æ—Ç–æ–≤–æ** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π** - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Alembic
- ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è** - –ö–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Å–≤–æ—é –ë–î (bali_db, ukraine_db)

### 2. **account-manager** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- ‚úÖ **–ì–æ—Ç–æ–≤–æ** - –í–∫–ª—é—á–∞–µ—Ç:
  - `scout.py` - –ü–∞—Ä—Å–µ—Ä –≥—Ä—É–ø–ø (–Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã)
  - `smart_joiner.py` - –£–º–Ω—ã–π –≤—Å—Ç—É–ø–∞—Ç–æ—Ä (–≤—Å—Ç—É–ø–∞–µ—Ç –≤ –≥—Ä—É–ø–ø—ã)
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–î** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `lexus_db`
- ‚úÖ **Cron –∑–∞–¥–∞—á–∏** - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `crontab.*` —Ñ–∞–π–ª–∞—Ö

### 3. **marketer** - –ü–æ—Å—Ç–∏–Ω–≥ —Ä–µ–∫–ª–∞–º—ã
- ‚úÖ **–ì–æ—Ç–æ–≤–æ** - –í–∫–ª—é—á–∞–µ—Ç:
  - `poster.py` - –£–º–Ω—ã–π –ø–æ—Å—Ç–µ—Ä (–ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç—ã –≤ –≥—Ä—É–ø–ø—ã)
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–î** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `lexus_db`
- ‚úÖ **Cron –∑–∞–¥–∞—á–∏** - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `crontab.*` —Ñ–∞–π–ª–∞—Ö
- ‚úÖ **–õ–∏–º–∏—Ç—ã** - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (2 –ø–æ—Å—Ç–∞/–≥—Ä—É–ø–ø—É, 20 –ø–æ—Å—Ç–æ–≤/–∞–∫–∫–∞—É–Ω—Ç)

### 4. **secretary** - –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏** - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ –æ–Ω –Ω–æ–≤—É—é –ë–î (`lexus_db`)?
  - –ò–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π?
  - –ù—É–∂–Ω–∞ –ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—É—é –ë–î?

### 5. **activity** - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏** - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
  - –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å?
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ –æ–Ω –ë–î?
  - –ù—É–∂–Ω–∞ –ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π?

## üîÑ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ —Å—Ç–∞—Ä–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π (JSON —Ñ–∞–π–ª—ã), –∏—Ö –Ω—É–∂–Ω–æ **–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å** –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Ukraine/Lexus
./run-ukraine.sh up -d

# –ò–ª–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Bali
./run-bali.sh up -d
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

–ï—Å–ª–∏ —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –µ—â–µ –Ω—É–∂–Ω—ã, –º–æ–∂–Ω–æ:
1. –û—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—â–∏–º–∏
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –¥—Ä—É–≥–∏–º–∏ –∏–º–µ–Ω–∞–º–∏ (—á–µ—Ä–µ–∑ `docker-compose.template.yml`)
3. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ù–æ —ç—Ç–æ –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

## ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ –ø—Ä–æ–µ–∫—Ç—É Lexus/Ukraine

### –ì–æ—Ç–æ–≤–æ ‚úÖ
1. ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - PostgreSQL —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ (accounts, targets, post_history)
2. ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –°–∫—Ä–∏–ø—Ç `lexus_db/migrate_from_files.py`
3. ‚úÖ **Scout (–ü–∞—Ä—Å–µ—Ä)** - `services/account-manager/scout.py`
4. ‚úÖ **Smart Joiner (–í—Å—Ç—É–ø–∞—Ç–æ—Ä)** - `services/account-manager/smart_joiner.py`
5. ‚úÖ **Marketer (–ü–æ—Å—Ç–µ—Ä)** - `services/marketer/poster.py`
6. ‚úÖ **Cron –∑–∞–¥–∞—á–∏** - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `crontab.ukraine` –∏ `crontab.combined`
7. ‚úÖ **Docker Compose** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π multi-project

### –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚ö†Ô∏è
1. ‚ö†Ô∏è **Secretary (–ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫)** - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –Ω–æ–≤–æ–π –ë–î
2. ‚ö†Ô∏è **Activity (–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)** - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏ –Ω—É–∂–Ω–∞ –ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–≤–∫–ª—é—á–∞—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)
docker ps -a
```

### 2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ docker-compose —Ñ–∞–π–ª—ã
docker-compose -f docker-compose.yml down  # –∏–ª–∏ –¥—Ä—É–≥–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

```bash
# –î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Ukraine/Lexus
./run-ukraine.sh up -d

# –î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Bali
./run-bali.sh up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./run-ukraine.sh ps
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –õ–æ–≥–∏ account-manager (scout, joiner)
docker logs ukraine-account-manager -f

# –õ–æ–≥–∏ marketer (poster)
docker logs ukraine-marketer -f

# –õ–æ–≥–∏ secretary
docker logs ukraine-secretary -f
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Cron –∑–∞–¥–∞—á–∏

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
./install-cron.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
crontab crontab.combined
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ Secretary –∏ Activity

–î–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **Secretary (–ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫)**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ –æ–Ω –Ω–æ–≤—É—é –ë–î (`lexus_db`)?
   - –ò–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞—Ä–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π (JSON —Ñ–∞–π–ª—ã)?
   - –ù—É–∂–Ω–∞ –ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—É—é –ë–î?

2. **Activity (–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)**:
   - –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å?
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–æ—Ä–∏—Å? –õ–∞–π–∫–∏?
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ –æ–Ω –ë–î –∏–ª–∏ —Ñ–∞–π–ª—ã?
   - –ù—É–∂–Ω–∞ –ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π?

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ì–æ—Ç–æ–≤–∞) ‚úÖ      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1. PostgreSQL (bali_db / ukraine_db)   ‚îÇ
‚îÇ 2. Scout (scout.py) - ‚úÖ –ì–æ—Ç–æ–≤–æ        ‚îÇ
‚îÇ 3. Smart Joiner (smart_joiner.py) - ‚úÖ ‚îÇ
‚îÇ 4. Marketer (poster.py) - ‚úÖ –ì–æ—Ç–æ–≤–æ    ‚îÇ
‚îÇ 5. Secretary - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏     ‚îÇ
‚îÇ 6. Activity - ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Lexus/Ukraine –≥–æ—Ç–æ–≤–æ:**
- ‚úÖ Scout ‚Üí –ù–∞—Ö–æ–¥–∏—Ç –≥—Ä—É–ø–ø—ã
- ‚úÖ Smart Joiner ‚Üí –í—Å—Ç—É–ø–∞–µ—Ç –≤ –≥—Ä—É–ø–ø—ã
- ‚úÖ Marketer ‚Üí –ü–æ—Å—Ç–∏—Ç –≤ –≥—Ä—É–ø–ø—ã
- ‚úÖ Cron ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Secretary (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Activity (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)

**–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (Scout ‚Üí Joiner ‚Üí Marketer) –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** üöÄ
