# üìù –°–∏—Å—Ç–µ–º–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ç–µ–º–∞—Ç–∏–∫–∞–º –≥—Ä—É–ø–ø

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–º–∞—Ç–∏–∫—É –≥—Ä—É–ø–ø—ã –∏ –≤—ã–±–∏—Ä–∞–µ—Ç **—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –¥–ª—è –ø–æ—Å—Ç–∏–Ω–≥–∞.

## üè∑Ô∏è –¢–µ–º–∞—Ç–∏–∫–∏ –≥—Ä—É–ø–ø

–°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç 4 —Ç–µ–º–∞—Ç–∏–∫–∏:

1. **`real_estate`** - –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (–ø—Ä–æ–¥–∞–∂–∞, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏)
2. **`rental`** - –ê—Ä–µ–Ω–¥–∞ (–≤–∏–ª–ª—ã, –∫–≤–∞—Ä—Ç–∏—Ä—ã, –±–∞–π–∫–∏, –∞–≤—Ç–æ)
3. **`services`** - –£—Å–ª—É–≥–∏ (—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ã, –≤–∏–∑–∞, –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è, —Ç—É—Ä—ã –∏ —Ç.–¥.)
4. **`general`** - –û–±—â–∏–µ –≥—Ä—É–ø–ø—ã (—á–∞—Ç, –æ–±—ä—è–≤–ª–µ–Ω–∏—è)

## üîç –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–µ–º–∞—Ç–∏–∫–∞

–§—É–Ω–∫—Ü–∏—è `_determine_group_topic()` –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç `username` –∏ `title` –≥—Ä—É–ø–ø—ã –∏ –∏—â–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:

### Real Estate –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:
- property, –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, nedvizhimost, villa, –≤–∏–ª–ª–∞
- estate, sale, –ø—Ä–æ–¥–∞–∂–∞, investment, –∏–Ω–≤–µ—Å—Ç–∏—Ü
- house, –¥–æ–º, apartment, –∫–≤–∞—Ä—Ç–∏—Ä–∞

### Rental –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:
- rent, –∞—Ä–µ–Ω–¥–∞, arenda, rental, –ø—Ä–æ–∫–∞—Ç
- villa, –≤–∏–ª–ª–∞, house, –¥–æ–º, apartment, –∫–≤–∞—Ä—Ç–∏—Ä–∞
- bike, –±–∞–π–∫, –º–æ—Ç–æ—Ü–∏–∫–ª, motorcycle, –∞–≤—Ç–æ, car
- vehicle, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç

### Services –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:
- service, —É—Å–ª—É–≥–∏, uslugi, –ø–æ–º–æ—â—å, help
- —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ, photographer, –≤–∏–¥–µ–æ–≥—Ä–∞—Ñ, videographer
- –º–∞–Ω–∏–∫—é—Ä, manicure, –±—Ä–æ–≤–∏, eyebrows, —Ä–µ—Å–Ω–∏—Ü—ã, eyelashes
- –º–∞–∫–∏—è–∂, makeup, –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥, cosmetology
- –¥–∏–∑–∞–π–Ω–µ—Ä, designer, —à–≤–µ—è, seamstress
- –ø—Å–∏—Ö–æ–ª–æ–≥, psychologist, —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä, transfer
- —Ç—É—Ä–∞–≥–µ–Ω—Ç, tour, —Ä–µ—Ç—Ä–∏—Ç, –≤–∞–ª—é—Ç–∞, currency

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:
1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `real_estate`
2. –ó–∞—Ç–µ–º `rental` (–µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –ø—Ä–æ–¥–∞–∂–∏/–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π)
3. –ó–∞—Ç–µ–º `services`
4. –ò–Ω–∞—á–µ `general`

## üìä –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

–°–æ–æ–±—â–µ–Ω–∏—è –∏–∑ `messages.json` –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ `source_file`:

| Source File | –¢–µ–º–∞—Ç–∏–∫–∞ |
|-------------|----------|
| `messages_sale_property.txt` | real_estate |
| `messages_rental_property.txt` | rental |
| `messages_housing.txt` | rental |
| `messages_bike_rental.txt` | rental |
| `messages_car_rental.txt` | rental |
| `messages_transport.txt` | services |
| `messages_photographer.txt` | services |
| `messages_videographer.txt` | services |
| `messages_manicure.txt` | services |
| `messages_eyebrows.txt` | services |
| `messages_eyelashes.txt` | services |
| `messages_makeup.txt` | services |
| `messages_hair.txt` | services |
| `messages_cosmetology.txt` | services |
| `messages_designer.txt` | services |
| `messages_seamstress.txt` | services |
| `messages_psychological.txt` | services |
| `messages_tourism.txt` | services |
| `messages_family_retreat.txt` | services |
| `messages_currency.txt` | services |
| `messages_hookah.txt` | services |
| `messages_playstation.txt` | services |
| `messages_energy_cleansing.txt` | services |
| `messages_general.txt` | general |
| `messages_morning.txt` | general |
| `messages_noon.txt` | general |
| `messages_evening.txt` | general |

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (`initialize()`)

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Ç–µ–º–∞—Ç–∏–∫–∞–º:

```python
self.niche_messages = {
    'real_estate': [...],
    'rental': [...],
    'services': [...],
    'general': [...]
}
```

### 2. –ü–æ—Å—Ç–∏–Ω–≥ (`post_to_group()`)

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ—Å—Ç–∞:

1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–µ–º–∞—Ç–∏–∫–∞ –≥—Ä—É–ø–ø—ã: `topic = self._determine_group_topic(group)`
2. –í—ã–±–∏—Ä–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–∏: `source_messages = self.niche_messages.get(topic, [])`
3. –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Ç–µ–º–∞—Ç–∏–∫–∏ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ (fallback)
4. –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: `message_data = random.choice(source_messages)`

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ, –∫–∞–∫–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```
üìã Using topic 'rental' messages for @Villa_Bali_Arenda_1
üìã No messages for topic 'real_estate', using general pool for @some_group
```

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

```
‚úÖ Loaded 15 messages for topic 'real_estate'
‚úÖ Loaded 60 messages for topic 'rental'
‚úÖ Loaded 395 messages for topic 'services'
‚úÖ Loaded 180 messages for topic 'general'
‚úÖ Total 650 messages loaded (grouped by topics)
```

## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

| –ì—Ä—É–ø–ø–∞ | –¢–µ–º–∞—Ç–∏–∫–∞ | –ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π |
|--------|----------|-------------------|
| `@Villa_Bali_Arenda_1` | rental | "–ò—â—É –±–∞–π–∫ –≤ –∞—Ä–µ–Ω–¥—É...", "–ò—â—É –∞—Ä–µ–Ω–¥—É –≤–∏–ª–ª—ã..." |
| `@balitopoffer` | real_estate | "–ò—â—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–ª—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π...", "–ü—Ä–æ–¥–∞–∂–∞ –≤–∏–ª–ª—ã..." |
| `@photographer_bali` | services | "–ò—â—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞...", "–ù—É–∂–µ–Ω –≤–∏–¥–µ–æ–≥—Ä–∞—Ñ..." |
| `@Bali_Top_Chat` | general | –û–±—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ general –ø—É–ª–∞ |

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å–æ–æ–±—â–µ–Ω–∏–π:

1. –î–æ–±–∞–≤—å—Ç–µ mapping –≤ `source_to_topic` —Å–ª–æ–≤–∞—Ä—å
2. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ `_determine_group_topic()` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º–∞—Ç–∏–∫–∏

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2026-01-11*
