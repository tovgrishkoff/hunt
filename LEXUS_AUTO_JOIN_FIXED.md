# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—ã Lexus

**–î–∞—Ç–∞:** 2026-01-11 01:45

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω `docker-entrypoint-auto-join-ukraine.sh`
- ‚úÖ Entrypoint —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏

### 2. –û–±–Ω–æ–≤–ª–µ–Ω `docker-compose.auto-join-ukraine.yml`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `lexus_accounts_config.json`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `group_niches.json`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
  - `auto_join_ukraine_cars_groups.py`
  - `auto_join_ukraine_cars_groups_scheduler.py`
  - `promotion_system.py`

### 3. –û–±–Ω–æ–≤–ª–µ–Ω `auto_join_ukraine_cars_groups.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### 3.1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ Lexus
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ `lexus_accounts_config.json` —á–µ—Ä–µ–∑ `system.load_lexus_accounts_config()`
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –ø–æ `lexus_allowed_accounts`
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

**–ö–æ–¥:**
```python
# –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ñ–∏–≥ Lexus –î–û –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
system.load_lexus_accounts_config()

# –§–∏–ª—å—Ç—Ä—É–µ–º –∞–∫–∫–∞—É–Ω—Ç—ã: –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ –≤ whitelist Lexus
if hasattr(system, 'lexus_allowed_accounts') and system.lexus_allowed_accounts:
    system.accounts = [
        acc for acc in system.accounts
        if acc.get('session_name') in system.lexus_allowed_accounts
    ]
```

#### 3.2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ 10 –≥—Ä—É–ø–ø –≤ –¥–µ–Ω—å –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ `group_account_assignments.json` —á–µ—Ä–µ–∑ `system.load_group_assignments()`
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ –ø–µ—Ä–µ–¥ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º
- ‚úÖ –í—ã–±–æ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è
- ‚úÖ –ü—Ä–æ–ø—É—Å–∫ –≥—Ä—É–ø–ø, –µ—Å–ª–∏ –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏–º–∏—Ç–∞

**–ö–æ–¥:**
```python
MAX_JOINS_PER_DAY = 10

# –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –∑–∞ —Å–µ–≥–æ–¥–Ω—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
today = datetime.utcnow().date()
account_joins_today = {}

for account_name in [acc.get('session_name') for acc in accounts]:
    account_joins_today[account_name] = 0
    # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –∑–∞ —Å–µ–≥–æ–¥–Ω—è –∏–∑ group_assignments
    for group, assignment in system.group_assignments.items():
        if assignment.get('account') == account_name:
            joined_at_str = assignment.get('joined_at')
            if joined_at_str:
                try:
                    joined_at = datetime.fromisoformat(joined_at_str.replace('Z', '+00:00'))
                    if joined_at.date() == today:
                        account_joins_today[account_name] += 1
                except:
                    pass

# –í—ã–±–∏—Ä–∞–µ–º –∞–∫–∫–∞—É–Ω—Ç —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è
available_accounts = [
    acc for acc in accounts
    if acc.get('session_name') in system.clients and 
    account_joins_today.get(acc.get('session_name'), 0) < MAX_JOINS_PER_DAY
]

if not available_accounts:
    logger.warning(f"  ‚ö†Ô∏è –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏–º–∏—Ç–∞ {MAX_JOINS_PER_DAY} –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è")
    break

account = min(available_accounts, key=lambda acc: account_joins_today.get(acc.get('session_name'), 0))
```

#### 3.3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –ª–∏ —É–∂–µ –≥—Ä—É–ø–ø–∞ –∞–∫–∫–∞—É–Ω—Ç—É (–ø—Ä–æ–ø—É—Å–∫ —É–∂–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø)
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º

### 4. –ó–∞–ø—É—â–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `auto-join-ukraine-cars`
- ‚úÖ –°–æ–±—Ä–∞–Ω –Ω–æ–≤—ã–π Docker –æ–±—Ä–∞–∑
- ‚úÖ –ó–∞–ø—É—â–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

---

## üìã –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—ã
- **–í—Ä–µ–º—è:** –ü–æ –î–∂–∞–∫–∞—Ä—Ç—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (Asia/Jakarta)
- **–°–ª–æ—Ç—ã:**
  - 05:00 Jakarta = 00:00 Kiev (early_morning)
  - 07:00 Jakarta = 02:00 Kiev (morning_1)
  - 09:00 Jakarta = 04:00 Kiev (morning_2)
  - 11:00 Jakarta = 06:00 Kiev (late_morning)

### –ü—Ä–æ—Ü–µ—Å—Å –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤:** –¢–æ–ª—å–∫–æ –∏–∑ `lexus_accounts_config.json`
2. **–ü–æ–¥—Å—á–µ—Ç –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π:** –ò–∑ `group_account_assignments.json` –∑–∞ —Å–µ–≥–æ–¥–Ω—è
3. **–í—ã–±–æ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞:** –° –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π —Å–µ–≥–æ–¥–Ω—è (< 10)
4. **–í—Å—Ç—É–ø–ª–µ–Ω–∏–µ:** –í –≥—Ä—É–ø–ø—É —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤ –Ω–∞ –ø–æ—Å—Ç–∏–Ω–≥
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –≥—Ä—É–ø–ø–µ –≤ `group_account_assignments.json`

### –õ–∏–º–∏—Ç—ã
- **–ú–∞–∫—Å–∏–º—É–º –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å:** 10 –≥—Ä—É–ø–ø –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç
- **Warm-up –ø–µ—Ä–∏–æ–¥:** 24 —á–∞—Å–∞ –ø–æ—Å–ª–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–∏–Ω–≥–∞:** –ü–æ –ö–∏–µ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (08:00, 12:00, 15:00, 18:00, 20:00)

---

## üöÄ –°—Ç–∞—Ç—É—Å

- ‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ Docker –æ–±—Ä–∞–∑ —Å–æ–±—Ä–∞–Ω
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
- ‚úÖ –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫: –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (05:00, 07:00, 09:00, 11:00 –ø–æ –î–∂–∞–∫–∞—Ä—Ç—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏)

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

1. **–í—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—ã:** –ú–∞–∫—Å–∏–º—É–º 10 –≥—Ä—É–ø–ø –≤ –¥–µ–Ω—å –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç (–Ω–æ—á—å—é –ø–æ –î–∂–∞–∫–∞—Ä—Ç—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏)
2. **Warm-up –ø–µ—Ä–∏–æ–¥:** 24 —á–∞—Å–∞ –ø–æ—Å–ª–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è
3. **–ü–æ—Å—Ç–∏–Ω–≥:** –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è warm-up –ø–µ—Ä–∏–æ–¥–∞ –ø–æ –ö–∏–µ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
4. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏:** –ê–∫–∫–∞—É–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ (–Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º)

---

*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã: 2026-01-11 01:45*
